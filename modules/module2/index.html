<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 2: Computational Thinking - AI Literacy Training</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/modules.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>Module 2: Computational Thinking</h1>
            </div>
            <div class="nav-user">
                <button class="back-btn" onclick="moduleManager.goBack()">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M12 5L7 10L12 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Back to Dashboard
                </button>
            </div>
        </div>
    </nav>

    <div class="module-page">
        <div class="module-content">
            <!-- Enhanced Module Header with Image -->
            <div class="module-hero-container">
                <div class="module-hero-image">
                    <!-- Placeholder for module image -->
                    <div class="image-placeholder">
                        <svg width="100" height="100" viewBox="0 0 100 100" fill="none" class="placeholder-icon">
                            <rect x="10" y="20" width="80" height="60" rx="8" stroke="currentColor" stroke-width="2" opacity="0.3"/>
                            <path d="M20 30L30 40L50 20L80 35" stroke="currentColor" stroke-width="3" fill="none" opacity="0.4"/>
                            <circle cx="25" cy="35" r="3" fill="currentColor" opacity="0.4"/>
                            <circle cx="45" cy="25" r="3" fill="currentColor" opacity="0.4"/>
                            <circle cx="75" cy="40" r="3" fill="currentColor" opacity="0.4"/>
                        </svg>
                        <p class="placeholder-text">Module Image</p>
                    </div>
                </div>
                
                <!-- Overlaid Title (Top Left) -->
                <div class="module-title-overlay">
                    <button class="back-btn-overlay" onclick="window.location.href='../../index.html'">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M8 16L0 8L8 0L9.4 1.4L3.8 7H16V9H3.8L9.4 14.6L8 16Z" fill="currentColor"/>
                        </svg>
                        Back
                    </button>
                    <div class="module-meta-overlay">
                        <span class="module-number">Module 02</span>
                        <span class="module-duration">~2 hours</span>
                    </div>
                    <h1 class="module-title-main">Computational Thinking</h1>
                    <p class="module-description-overlay">Master pattern recognition, algorithm design, and problem-solving skills essential for AI education.</p>
                </div>
                
                <!-- Progress Bar (Bottom) -->
                <div class="module-progress-overlay">
                    <div class="progress-info-overlay">
                        <span class="progress-text-overlay">0% Complete</span>
                    </div>
                    <div class="progress-bar-overlay">
                        <div class="progress-fill-overlay module-progress-fill" style="width: 0%"></div>
                    </div>
                </div>
                
                <!-- Start Unit Button -->
                <div class="start-unit-container">
                    <button class="start-unit-btn" onclick="startUnit()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="start-icon">
                            <path d="M8 5V19L19 12L8 5Z" fill="currentColor"/>
                        </svg>
                        Start Unit
                    </button>
                </div>
            </div>

            <div class="module-flow">
                <!-- Video 1 -->
                <div class="content-section">
                    <div class="video-section">
                        <div class="video-player">
                            <div class="play-btn">
                                <svg width="30" height="30" viewBox="0 0 30 30" fill="none">
                                    <path d="M10 7L22 15L10 23V7Z" fill="currentColor"/>
                                </svg>
                            </div>
                        </div>
                        <div class="video-info">
                            <h3 class="video-title">Introduction to Computational Thinking</h3>
                            <p class="video-description">Learn the core concepts of computational thinking and how they apply to problem-solving.</p>
                            <span class="video-duration">Duration: 12:00</span>
                        </div>
                    </div>
                </div>

                <!-- Video 2 -->
                <div class="content-section">
                    <div class="video-section">
                        <div class="video-player">
                            <div class="play-btn">
                                <svg width="30" height="30" viewBox="0 0 30 30" fill="none">
                                    <path d="M10 7L22 15L10 23V7Z" fill="currentColor"/>
                                </svg>
                            </div>
                        </div>
                        <div class="video-info">
                            <h3 class="video-title">Pattern Recognition</h3>
                            <p class="video-description">Discover how to identify patterns and relationships in data and problems.</p>
                            <span class="video-duration">Duration: 10:30</span>
                        </div>
                    </div>
                    
                    <!-- Activity Button after Video 2 -->
                    <div class="activity-button-section">
                        <button class="activity-button" onclick="openActivityWindow('pattern-game')">
                            <div class="activity-thumbnail">
                                <svg width="40" height="40" viewBox="0 0 60 60" fill="none">
                                    <rect x="10" y="10" width="15" height="15" stroke="currentColor" stroke-width="2"/>
                                    <rect x="35" y="10" width="15" height="15" stroke="currentColor" stroke-width="2"/>
                                    <rect x="10" y="35" width="15" height="15" stroke="currentColor" stroke-width="2"/>
                                    <rect x="35" y="35" width="15" height="15" stroke="currentColor" stroke-width="2"/>
                                </svg>
                            </div>
                            <div class="activity-content">
                                <h4>Pattern Recognition Game</h4>
                                <p>Practice identifying patterns in sequences and data</p>
                            </div>
                        </button>
                    </div>
                </div>

                <!-- Video 3 -->
                <div class="content-section">
                    <div class="video-section">
                        <div class="video-player">
                            <div class="play-btn">
                                <svg width="30" height="30" viewBox="0 0 30 30" fill="none">
                                    <path d="M10 7L22 15L10 23V7Z" fill="currentColor"/>
                                </svg>
                            </div>
                        </div>
                        <div class="video-info">
                            <h3 class="video-title">Decomposition & Abstraction</h3>
                            <p class="video-description">Learn to break down complex problems and focus on essential details.</p>
                            <span class="video-duration">Duration: 11:15</span>
                        </div>
                    </div>
                </div>

                <!-- Video 4 -->
                <div class="content-section">
                    <div class="video-section">
                        <div class="video-player">
                            <div class="play-btn">
                                <svg width="30" height="30" viewBox="0 0 30 30" fill="none">
                                    <path d="M10 7L22 15L10 23V7Z" fill="currentColor"/>
                                </svg>
                            </div>
                        </div>
                        <div class="video-info">
                            <h3 class="video-title">Algorithm Design</h3>
                            <p class="video-description">Create step-by-step solutions to solve problems systematically.</p>
                            <span class="video-duration">Duration: 9:45</span>
                        </div>
                    </div>
                    
                    <!-- Activity Button after Video 4 -->
                    <div class="activity-button-section">
                        <button class="activity-button" onclick="openActivityWindow('algorithm-builder')">
                            <div class="activity-thumbnail">
                                <svg width="40" height="40" viewBox="0 0 60 60" fill="none">
                                    <rect x="15" y="10" width="30" height="8" rx="4" stroke="currentColor" stroke-width="2"/>
                                    <rect x="15" y="26" width="30" height="8" rx="4" stroke="currentColor" stroke-width="2"/>
                                    <rect x="15" y="42" width="30" height="8" rx="4" stroke="currentColor" stroke-width="2"/>
                                    <path d="M30 18V26M30 34V42" stroke="currentColor" stroke-width="2"/>
                                </svg>
                            </div>
                            <div class="activity-content">
                                <h4>Algorithm Builder</h4>
                                <p>Create step-by-step solutions for everyday problems</p>
                            </div>
                        </button>
                    </div>
                </div>

                <!-- Assessment Button -->
                <div class="content-section">
                    <div class="assessment-button-section">
                        <button class="assessment-button" onclick="openActivityWindow('assessment')">
                            <div class="assessment-thumbnail">
                                <svg width="40" height="40" viewBox="0 0 60 60" fill="none">
                                    <rect x="15" y="10" width="30" height="40" rx="4" stroke="currentColor" stroke-width="2"/>
                                    <path d="M20 20L25 25L35 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <line x1="20" y1="30" x2="40" y2="30" stroke="currentColor" stroke-width="2"/>
                                    <line x1="20" y1="35" x2="35" y2="35" stroke="currentColor" stroke-width="2"/>
                                    <line x1="20" y1="40" x2="40" y2="40" stroke="currentColor" stroke-width="2"/>
                                </svg>
                            </div>
                            <div class="assessment-content">
                                <h4>Module Assessment</h4>
                                <p>Test your computational thinking skills with interactive challenges</p>
                            </div>
                        </button>
                    </div>
                </div>

                <!-- Hidden containers for activities and quiz -->
                <div class="hidden-content" id="activities" style="display: none;">
                    <div class="activities-container">
                        <!-- Activities will be loaded by JavaScript -->
                    </div>
                </div>

                <div class="hidden-content" id="quiz" style="display: none;">
                    <div class="quiz-container">
                        <div class="quiz-progress">
                            <span>Question <span id="current-question">1</span> of <span id="total-questions">3</span></span>
                            <div class="quiz-progress-bar">
                                <div class="quiz-progress-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="question-container" id="question-container">
                            <!-- Quiz questions will be loaded by JavaScript -->
                        </div>
                        <div class="quiz-actions">
                            <button class="quiz-btn" id="prev-btn" onclick="previousQuestion()" disabled>Previous</button>
                            <button class="quiz-btn" id="next-btn" onclick="nextQuestion()">Next</button>
                            <button class="quiz-btn" id="submit-btn" onclick="submitQuiz()" style="display: none;">Submit Quiz</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../../js/modules.js"></script>
    <script src="../../js/activities.js"></script>
    <script src="../../js/progress.js"></script>
    <script>
        const currentModuleId = 2;
        
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize progress tracking first
            if (window.progressTracker) {
                window.progressTracker.initializeProgress();
            }
            
            moduleManager.initializeModulePage(currentModuleId);
            
            // Add module 2 specific quiz questions
            window.moduleContent[2].quiz = {
                questions: [
                    {
                        id: 'q1',
                        text: 'What is pattern recognition in computational thinking?',
                        options: [
                            'Finding similarities and differences in data',
                            'Creating random patterns',
                            'Drawing geometric shapes',
                            'Memorizing sequences'
                        ],
                        correct: 0
                    },
                    {
                        id: 'q2',
                        text: 'Which is an example of decomposition?',
                        options: [
                            'Combining small problems into one big problem',
                            'Breaking a complex problem into smaller parts',
                            'Ignoring difficult problems',
                            'Solving everything at once'
                        ],
                        correct: 1
                    },
                    {
                        id: 'q3',
                        text: 'What is abstraction in computational thinking?',
                        options: [
                            'Making things more complicated',
                            'Adding more details',
                            'Focusing on important information and ignoring irrelevant details',
                            'Creating abstract art'
                        ],
                        correct: 2
                    }
                ]
            };
        });

        // Add CSS styles for Module Hero Container
        function addHeroStyles() {
            const style = document.createElement('style');
            style.textContent = `
                /* Module Hero Container Styles */
                .module-hero-container {
                    position: relative;
                    width: 100%;
                    height: 400px;
                    background: var(--light-bg);
                    border-radius: 1rem;
                    margin-bottom: 2rem;
                    overflow: hidden;
                    box-shadow: var(--shadow-lg);
                }
                
                .module-hero-image {
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                
                .image-placeholder {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 1rem;
                    color: var(--text-secondary);
                }
                
                .placeholder-text {
                    font-size: 1.125rem;
                    font-weight: 500;
                    color: var(--text-secondary);
                    margin: 0;
                }
                
                .module-title-overlay {
                    position: absolute;
                    top: 2rem;
                    left: 2rem;
                    right: 2rem;
                    z-index: 10;
                }
                
                .back-btn-overlay {
                    display: inline-flex;
                    align-items: center;
                    gap: 0.5rem;
                    padding: 0.5rem 1rem;
                    background: rgba(255, 255, 255, 0.9);
                    backdrop-filter: blur(8px);
                    border: none;
                    border-radius: 0.5rem;
                    color: var(--text-primary);
                    cursor: pointer;
                    transition: all 0.3s ease;
                    margin-bottom: 1rem;
                    font-weight: 500;
                }
                
                .back-btn-overlay:hover {
                    background: rgba(255, 255, 255, 1);
                    transform: translateY(-2px);
                    box-shadow: var(--shadow-md);
                }
                
                .module-meta-overlay {
                    display: flex;
                    gap: 1rem;
                    margin-bottom: 0.5rem;
                }
                
                .module-number {
                    font-size: 0.875rem;
                    font-weight: 600;
                    color: var(--primary-color);
                    text-transform: uppercase;
                }
                
                .module-duration {
                    font-size: 0.875rem;
                    color: var(--text-secondary);
                }
                
                .module-title-main {
                    font-size: 2.5rem;
                    font-weight: 700;
                    color: var(--text-primary);
                    margin: 0 0 0.5rem 0;
                    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                }
                
                .module-description-overlay {
                    font-size: 1.125rem;
                    color: var(--text-secondary);
                    margin: 0;
                    max-width: 600px;
                    line-height: 1.6;
                }
                
                .module-progress-overlay {
                    position: absolute;
                    bottom: 2rem;
                    left: 2rem;
                    right: 2rem;
                    z-index: 10;
                }
                
                .progress-info-overlay {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 0.5rem;
                }
                
                .progress-text-overlay {
                    font-size: 0.875rem;
                    font-weight: 600;
                    color: var(--text-primary);
                }
                
                .progress-bar-overlay {
                    width: 100%;
                    height: 8px;
                    background: rgba(255, 255, 255, 0.3);
                    border-radius: 4px;
                    overflow: hidden;
                    backdrop-filter: blur(8px);
                }
                
                .progress-fill-overlay {
                    height: 100%;
                    background: var(--gradient-primary);
                    transition: width 0.3s ease;
                    border-radius: 4px;
                }
                
                .start-unit-container {
                    position: absolute;
                    bottom: 2rem;
                    right: 2rem;
                    z-index: 10;
                }
                
                .start-unit-btn {
                    display: flex;
                    align-items: center;
                    gap: 0.75rem;
                    padding: 1rem 2rem;
                    background: var(--gradient-primary);
                    color: white;
                    border: none;
                    border-radius: 0.75rem;
                    font-size: 1.125rem;
                    font-weight: 700;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    box-shadow: var(--shadow-lg);
                }
                
                .start-unit-btn:hover {
                    transform: translateY(-3px);
                    box-shadow: 0 15px 25px -3px rgba(0, 0, 0, 0.15);
                }
                
                .start-unit-btn:active {
                    transform: translateY(-1px);
                }
                
                /* Sequential Content Styles */
                .module-flow.sequential-mode .content-section {
                    display: none;
                }
                
                .module-flow.sequential-mode .content-section.active {
                    display: block;
                    animation: fadeInUp 0.5s ease-out;
                }
                
                @keyframes fadeInUp {
                    from {
                        opacity: 0;
                        transform: translateY(20px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
                
                .sequential-nav {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 1.5rem;
                    background: var(--card-bg);
                    border-radius: 0.75rem;
                    margin-top: 2rem;
                    box-shadow: var(--shadow-sm);
                }
                
                .sequential-progress {
                    flex: 1;
                    margin: 0 2rem;
                    text-align: center;
                }
                
                .sequential-progress-text {
                    font-size: 0.875rem;
                    color: var(--text-secondary);
                    margin-bottom: 0.5rem;
                }
                
                .sequential-progress-bar {
                    width: 100%;
                    height: 6px;
                    background: var(--border-color);
                    border-radius: 3px;
                    overflow: hidden;
                }
                
                .sequential-progress-fill {
                    height: 100%;
                    background: var(--gradient-primary);
                    transition: width 0.3s ease;
                }
                
                .nav-btn {
                    padding: 0.75rem 1.5rem;
                    border: 2px solid var(--border-color);
                    border-radius: 0.5rem;
                    background: var(--card-bg);
                    color: var(--text-primary);
                    cursor: pointer;
                    font-weight: 600;
                    transition: all 0.3s ease;
                }
                
                .nav-btn:hover {
                    border-color: var(--primary-color);
                    background: var(--primary-color);
                    color: white;
                }
                
                .nav-btn:disabled {
                    opacity: 0.5;
                    cursor: not-allowed;
                }
                
                .nav-btn.primary {
                    background: var(--gradient-primary);
                    color: white;
                    border-color: var(--primary-color);
                }
            `;
            document.head.appendChild(style);
        }
        
        addHeroStyles();

        // Sequential Unit System
        let sequentialMode = false;
        let currentSequentialIndex = 0;
        let sequentialContent = [];
        
        function startUnit() {
            console.log('Starting sequential unit mode');
            sequentialMode = true;
            
            // Define the sequential content order for Module 2
            sequentialContent = [
                { type: 'video', id: 'v1', title: 'Introduction to Computational Thinking', element: '.content-section:nth-child(1)' },
                { type: 'video', id: 'v2', title: 'Pattern Recognition', element: '.content-section:nth-child(2)' },
                { type: 'activity', id: 'pattern-game', title: 'Pattern Recognition Game', element: '.content-section:nth-child(2)' },
                { type: 'video', id: 'v3', title: 'Decomposition & Abstraction', element: '.content-section:nth-child(3)' },
                { type: 'video', id: 'v4', title: 'Algorithm Design', element: '.content-section:nth-child(4)' },
                { type: 'activity', id: 'algorithm-builder', title: 'Algorithm Builder', element: '.content-section:nth-child(4)' },
                { type: 'assessment', id: 'quiz', title: 'Module Assessment', element: '#quiz' }
            ];
            
            currentSequentialIndex = 0;
            
            // Hide the hero container and show sequential mode
            const heroContainer = document.querySelector('.module-hero-container');
            const moduleFlow = document.querySelector('.module-flow');
            
            if (heroContainer) {
                heroContainer.style.display = 'none';
            }
            
            if (moduleFlow) {
                moduleFlow.classList.add('sequential-mode');
                
                // Add sequential navigation
                const sequentialNav = document.createElement('div');
                sequentialNav.className = 'sequential-nav';
                sequentialNav.innerHTML = `
                    <button class="nav-btn" id="prev-btn" onclick="previousSequentialItem()" disabled>
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M8 16L0 8L8 0L9.4 1.4L3.8 7H16V9H3.8L9.4 14.6L8 16Z" fill="currentColor"/>
                        </svg>
                        Previous
                    </button>
                    <div class="sequential-progress">
                        <div class="sequential-progress-text">
                            <span id="current-item">1</span> of <span id="total-items">${sequentialContent.length}</span>
                        </div>
                        <div class="sequential-progress-bar">
                            <div class="sequential-progress-fill" id="sequential-progress-fill" style="width: ${(1/sequentialContent.length)*100}%"></div>
                        </div>
                    </div>
                    <button class="nav-btn primary" id="next-btn" onclick="nextSequentialItem()">
                        Next
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M8 0L16 8L8 16L6.6 14.6L12.2 9H0V7H12.2L6.6 1.4L8 0Z" fill="currentColor"/>
                        </svg>
                    </button>
                `;
                
                moduleFlow.appendChild(sequentialNav);
            }
            
            // Show the first item
            showSequentialItem(0);
        }
        
        function showSequentialItem(index) {
            if (index < 0 || index >= sequentialContent.length) return;
            
            const currentItem = sequentialContent[index];
            const moduleFlow = document.querySelector('.module-flow');
            
            // Hide all content sections
            const contentSections = moduleFlow.querySelectorAll('.content-section');
            contentSections.forEach(section => section.classList.remove('active'));
            
            // Hide quiz section
            const quizSection = document.getElementById('quiz');
            if (quizSection) quizSection.style.display = 'none';
            
            // Show current item
            if (currentItem.type === 'video') {
                const sectionIndex = parseInt(currentItem.element.match(/\d+/)[0]) - 1;
                if (contentSections[sectionIndex]) {
                    contentSections[sectionIndex].classList.add('active');
                }
            } else if (currentItem.type === 'activity') {
                // For activities, navigate to separate page
                window.location.href = `${currentItem.id}.html`;
            } else if (currentItem.type === 'assessment') {
                window.location.href = 'assessment.html';
            }
            
            // Update navigation
            updateSequentialNavigation();
        }
        
        function nextSequentialItem() {
            if (currentSequentialIndex < sequentialContent.length - 1) {
                currentSequentialIndex++;
                showSequentialItem(currentSequentialIndex);
            }
        }
        
        function previousSequentialItem() {
            if (currentSequentialIndex > 0) {
                currentSequentialIndex--;
                showSequentialItem(currentSequentialIndex);
            }
        }
        
        function updateSequentialNavigation() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const currentItemSpan = document.getElementById('current-item');
            const progressFill = document.getElementById('sequential-progress-fill');
            
            if (prevBtn) {
                prevBtn.disabled = currentSequentialIndex === 0;
            }
            
            if (nextBtn) {
                if (currentSequentialIndex === sequentialContent.length - 1) {
                    nextBtn.textContent = 'Complete Module';
                    nextBtn.onclick = completeModule;
                } else {
                    nextBtn.innerHTML = `
                        Next
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M8 0L16 8L8 16L6.6 14.6L12.2 9H0V7H12.2L6.6 1.4L8 0Z" fill="currentColor"/>
                        </svg>
                    `;
                    nextBtn.onclick = nextSequentialItem;
                }
            }
            
            if (currentItemSpan) {
                currentItemSpan.textContent = currentSequentialIndex + 1;
            }
            
            if (progressFill) {
                const progressPercent = ((currentSequentialIndex + 1) / sequentialContent.length) * 100;
                progressFill.style.width = `${progressPercent}%`;
            }
        }
        
        function completeModule() {
            // Show completion message and return to hero view
            alert('🎉 Congratulations! You have completed Module 2: Computational Thinking!');
            
            // Reset to normal view
            sequentialMode = false;
            currentSequentialIndex = 0;
            
            const heroContainer = document.querySelector('.module-hero-container');
            const moduleFlow = document.querySelector('.module-flow');
            const sequentialNav = document.querySelector('.sequential-nav');
            
            if (heroContainer) {
                heroContainer.style.display = 'block';
            }
            
            if (moduleFlow) {
                moduleFlow.classList.remove('sequential-mode');
                const contentSections = moduleFlow.querySelectorAll('.content-section');
                contentSections.forEach(section => section.classList.remove('active'));
            }
            
            if (sequentialNav) {
                sequentialNav.remove();
            }
            
            // Update progress to 100%
            const progressFillOverlay = document.querySelector('.progress-fill-overlay');
            const progressTextOverlay = document.querySelector('.progress-text-overlay');
            
            if (progressFillOverlay) {
                progressFillOverlay.style.width = '100%';
            }
            
            if (progressTextOverlay) {
                progressTextOverlay.textContent = '100% Complete';
            }
        }

        // Navigate to activity page
        function openActivityWindow(activityId) {
            if (activityId === 'pattern-game') {
                window.location.href = 'pattern-game.html';
            } else if (activityId === 'algorithm-builder') {
                window.location.href = 'algorithm-builder.html';
            } else if (activityId === 'assessment') {
                window.location.href = 'assessment.html';
            }
        }
        
        // Export functions to global scope
        window.startUnit = startUnit;
        window.nextSequentialItem = nextSequentialItem;
        window.previousSequentialItem = previousSequentialItem;
        window.completeModule = completeModule;
        window.openActivityWindow = openActivityWindow;
    </script>
</body>
</html>
